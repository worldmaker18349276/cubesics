---
lang: 0  # zh-TW
ref: "building"
permalink: /zh-TW/algorithm/building/
title: "分離結合"
images: /cubesics/assets/images/
excerpt: 
---

## 忽略

一顆魔術方塊的解，是藉由它的外形和顏色來辨別，如果無法辨別，就會影響解的可能組態。一般來說，面塊只被塗上一種顏色，因此它的**方向性**就會被忽略；而高階魔方的中心的面塊部分都只有一種顏色，因此它們之間的**差異性**就會消失；另外，二階魔方可視為三階魔方中忽略邊塊和面塊的情行，因此只要會解三階魔方，就能以類似方法解二階魔方。像是這些**被忽略的方向性和差異性**，都會**影響整個公式或是解法過程**。例如，一般常見的三邊輪換公式其實含有兩個面塊的翻轉，但對於普通的三階魔方這些並沒有影響；而雖然利用轉面公式就能解決有面塊方向性的魔方，但其實有更好的方法可以直接解決這個問題。

## 區域公式

一般來說，我們不會從一開始就直接用像三邊輪換那種作用範圍小而動作複雜的公式來解，而是**先忽略某些區塊**，然後再一步一步**慢慢堆疊出所有的解**。因此有些公式只考慮到某些區域內的作用，我們稱之為「**區域公式**」。例如第二層的組邊公式，它只考慮底層和中層，而這些被考慮進去的區塊稱為「**堆疊區塊**」，其他的區塊（頂層）則稱為「**自由區塊**」。另外區域公式中的「堆疊區塊」並不一定要擠在一起，例如「[橋式解法](http://grrroux.free.fr/method/Intro.html)」中第一、二步「堆疊區塊」分布在兩區，可相對移動，因此增加了靈活性。又如「棱先解法」是以所有邊塊為第一步的「堆疊區塊」，其他區塊則是「自由區塊」。

## 性質結構

![virtual block]({{ page.images }}virtual_block.jpg){: .align-right}
**性質結構**的命名與一般我們所稱的不太一樣，性質結構是依其性質而定的，例如鈄轉魔方中位於角的區塊，其性質結構為面塊（但為了避免混淆，我們還是稱其為角塊，頂多說它與另一種面轉魔方的面塊同構）。所謂的性質是由**旋轉面與結構間的關係**所構成：
- **面**：其受一旋轉面改變其方向（其位於此旋轉面的中心），但不改變位置。
- **邊**：受兩（對稱）旋轉面改變其位置（其位於兩旋轉面交集處）。
- **角**：受多個（對稱）旋轉面改變其位置（其位於交集處）。

單一結構也可以擁有多個性質，如*鈄轉魔方*（ [Skewb](http://twistypuzzles.com/cgi-bin/puzzle.cgi?pkey=621) ）中的角塊同時具有角及面的性質；又*八面體面轉魔方*（ [Faceturning Octahedron](http://twistypuzzles.com/cgi-bin/puzzle.cgi?pkey=1663) ）中的角塊，若只看上下兩旋轉面的話，則它具有邊的性質（事實上它只有兩個指向）；而*深切五魔方*（ [Pyraminx Crystal](http://twistypuzzles.com/cgi-bin/puzzle.cgi?pkey=652) ）的邊塊具有兩種邊的性質。

## 分離結合
所謂「**分離結合**」，就是**暫時分離以求結合**：為了要將某區塊堆入堆疊區，又不想破壞堆疊區，則必須先暫時使堆疊區的一部分分離，並將此區塊與分離的堆疊區塊結合，再將它們一起歸位。

### 目標移位
顧名思義，就是**將我們所要置入的位置（目標）移位**，以便將此區塊置入，再一起歸位。其原理就是借位法，只不過移動的不是區塊，而是區域（其實這只是觀點不同而已）。
基本上有三個動作：**移位→置入→歸位**
![concept]({{ page.images }}building_concept.jpg){: .align-center}

> #### EX1
> ![EX1-1]({{ page.images }}building_EX1_1.jpg){: .align-right}
> 首先我們要認識到，*底層是可以自由轉動的*，所以它的位置不重要，重要的是它的*方向*（它的方向不能自由改變）。因此我們要找一個能把目標區移位到底層，而*方向朝左*的方法。如果選擇轉動右面，當我們把目標區移下時，目標區正好在底層，而且方向也正確。所以轉動右面後就能將此區塊置入目標區，當然在這之前要先讓位。  
> ![EX1-2]({{ page.images }}building_EX1_2.jpg){: .align-right}
> 而如果選擇轉動另一面，則將目標區移下時，所要的方向就不同了。但我們可以*藉由移位的動作*，順便*將此區塊的方向做改變*，因此置入時方向也就正確了。所以這裡不需將其移開，直接做移位後就可以置入了。

### 組合
組合就是將**兩個以上的區塊組成一對**，再將其歸位。

> #### EX2
> ![EX2]({{ page.images }}building_EX2.jpeg){: .align-right}
> 對於*兩極型*（或稱柱體型）的魔方，因為*側面只能旋轉180度*，所以角塊無法以目標移位來解。但有一個類似的轉法可代替，其所使用的方法不太一樣。在此轉法的前三步，利用了很有技巧的方法將底下的區塊與上面的兩個區塊組成了一個大區塊，而不是單純地做目標移位而已，而這就是「*組合*」。另外這個轉法也可以應用到普通的三階魔方。

> #### EX3
> ![EX3]({{ page.images }}building_EX3.jpg){: .align-right}
> 此技巧在解第二層時較常用。例如這個第二層的*組邊公式*，它有很多種版本，其中最常用的，就是用「*組合*」的概念。首先要把底下的*角塊與此目標邊塊結合*，因為此組合在之後較容易歸位。一開始我們要將此角塊移上去，移上去的方法有很多，但有一種*移上去時，目標區會剛好被另一個邊塊換掉*。如果正好是被目標邊塊換掉，如此就不需再思考要如何組合。因此我們要先觀察是哪一個邊塊移到了目標區，我們就先*讓目標邊塊去此處待命*，接下來移上去後也就能剛好轉至定位，最後再將其一起歸位就完成了。

### 置入讓位
有時候一些動作會**破壞堆疊區**，所以為了避免被破壞，必須**先做讓位**，之後再行歸位。依照順序的不同又可分成置入讓位與復原讓位。
置入讓位就是因為**置入動作**可能會破壞堆疊區，所以在這之前要做讓位動作，其順序是：**讓位→置入→歸位**

> #### EX4
> ![EX4-1]({{ page.images }}building_EX4_1.jpg){: .align-right}
> 若直接將底下兩個區塊置入目標區的話，會*破壞到上面的一個角塊*，所以我們要先把它移開，*置入後再將其歸位*。
> 讓位也不一定只能讓一排，例如下面這個例子，就必須對那兩排做讓位。  
> ![EX4-2]({{ page.images }}building_EX4_2.jpg)

### 復原讓位
如果直接進行置入動作，就有可能對堆疊區造成破壞，因此需要一個**復原動作**，但復原動作會使置入的區塊被丟回原來的地方。所以需要一個讓位動作，避免讓位動作對此區塊的影響。其順序是：**置入→讓位→復原→歸位**（這一組動作通常會形成**交錯轉法**）

> #### EX5
> ![EX5]({{ page.images }}building_EX5.jpg){: .align-right}
> 我們先*直接置入*，接下來再進行讓位與復原，這就相當於*以第一個動作將其轉換成另一種型式*，然後再以置入讓位來解。  

> #### EX6
> ![EX6]({{ page.images }}building_EX6.jpg){: .align-right}
> 有時候狀況會稍微複雜一點，*無法看出要如何進行目標移位或置入讓位*，但如果*直接置入*後，再使用復原讓位，就*比較容易解決這類的問題*。

### 轉換
**轉換**就是**狀態的改變**。當有些情況無法直接以前面所述的方法解決時，就必須改變狀態，**簡化現在所遇到的情況**。

> #### EX2'
> ![EX2']({{ page.images }}building_EX2m.jpg){: .align-right}
> 在前面 EX2 的公式，可以用在一般的三階魔方上面，不過對於這種情行，三階魔方還有另外一種解法。
> 如果要以*目標移位*來解的話，因為不管以哪一面移位，*方向都不正確*。因此要先*改變底下角塊的方向*後，才有辨法進行目標移位。而改變方向的方法與 EX1 的第二種解法類似，利用移下時的動作改變其方向。而完成之後就可以使用目標移位解決此問題。
